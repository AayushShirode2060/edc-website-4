<html lang="en">
<%- include("./partials/head.ejs") %>
  <head>
    <style>
      @media only screen and (min-width: 600px) {
        .scrollButton {
          bottom: 150px!important;
          right: 120px!important;
          padding: 15px;
        }
      }
    </style>
  </head>
  <body  style="min-height: 100% ;">
    <!-- back to top button -->
    <button class="scrollButton text-white bg-indigo-500 p-2 hover:bg-indigo-600 rounded" style="position: fixed; bottom: 20px; right: 30px; z-index: 99; border-radius: 50%;" onclick="topFunction()" id="myBtn" title="Go to top">Top</button>
    
    <% if (topics.length > 0) { %>
            <% topics.forEach(topic => { %>
              <section class="text-gray-400  body-font overflow-hidden md:px-20 lg:px-20" >
                <div class="container px-10 py-10 lg:py-24 ">
                  <div class="-my-8 divide-y-2 divide-gray-100">
                    <div class="py-9 flex flex-wrap md:flex-nowrap">
                      <div class="md:w-64 md:mb-0 mb-6 flex-shrink-0 flex flex-col">
                        <span class="font-semibold title-font text-gray-700"><%= topic.category %></span>
                        <span class="mt-1 text-gray-500 text-sm"><%= topic.createdAt.toDateString() %></span>
                      </div>
                      <div class="md:flex-grow">
                        <h2 class="text-2xl font-medium text-gray-900 title-font mb-2"><a href="/topics/<%= topic._id%>"><%= topic.title %></a></h2>
                        <p class="leading-relaxed"><%= topic.snippet %></p>
                        <a class="text-indigo-500 hover:text-red-600 font-semibold inline-flex items-center mt-4" href="/topics/<%= topic._id%>">Write Your Views
                          <svg class="w-4 h-4 ml-2" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M5 12h14"></path>
                            <path d="M12 5l7 7-7 7"></path>
                          </svg>
                        </a>
                      </div>
                    </div>
                  </div>
                </div>
              </section>
            <% }) %>
          <% } else { %>
            <p>There are no topics to display...</p>
          <% } %>
              
        <%- include("./partials/footer.ejs") %>
      </body>

      <script>
        //Get the button
        var mybutton = document.getElementById("myBtn");
        
        // When the user scrolls down 20px from the top of the document, show the button
        window.onscroll = function() {scrollFunction()};
        
        function scrollFunction() {
          if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
            mybutton.style.display = "block";
          } else {
            mybutton.style.display = "none";
          }
        }
        
        // When the user clicks on the button, scroll to the top of the document
        function topFunction() {
          document.body.scrollTop = 0;
          document.documentElement.scrollTop = 0;
        }
        </script>
  </html>